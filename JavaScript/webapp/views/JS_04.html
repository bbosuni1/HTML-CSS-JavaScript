<!DOCTYPE html>
<html>
    <head>
        <title>변수와 자료형</title>

        <style>
        #area1{
            width: 300px;
            height: 400px;
            border: 3px solid gold;
            background: lightcyan;
        }
        </style>
    </head>
    <body>
        <h1>변수와 자료형</h1>
        
        <h3>변수 선언</h3>
        <p>
            함수 내부에서는 var 변수명; 으로 선언하시면 지역변수가 된다. <br>
            함수 외부에서는 선언할 때 var 변수명; 혹은 변수명; 으로 선언하면 <br>
            전역변수가 된다. <br>
            전역변수와 지역변수가 동일한 이름일 경우 지역변수가 우선권을 가진다. <br>
            때문에 함수 내부에서 전역 변수를 사용하고자 할 경우 <br> 
            window.변수명 혹은 this.변수명 으로 전역 변수에 접근한다. <br>
            전역변수는 해당 웹 문서 어디든 사용할 수 있으며 <br>
            지역 변수는 함수 내부에서만 사용할 수 있다.
        </p>
        
        <h3>개발자 도구 확인하기!</h3>

        <script>
            // 전역 변수
            // 소스코드를 웹 브라우저가 읽어올 때
            // 내부 인터프리터에 의해 자동으로 window의 변수가 된다.
            
            // 함수 외부에 선언된 변수
            var str = "나는 전역 변수 입니다.";
            
            str2 = "나도 전역 변수 입니다.";

            // 웹 문서 로드시 동작하는 이벤트
            window.onload = function start(){
                // 지역 변수 선언
                var str = "나는 지역 변수 입니다.";

                // 지역 변수는 반드시 var 자료형을 붙여야 한다.
                var str3 = "나도 지역 변수 입니다.";

                console.log(str);
                console.log(window.str);
                console.log(this.str);

                console.log(str2);
                console.log(window.str2);
                console.log(this.str2);

                // 지역변수는 this 나 window를 사용할 수 없다.
                console.log(str3);
                console.log(window.str3);
                console.log(this.str3);

                // 함수 안에 변수를 작성할 때 var 자료형을 붙이지 않으면 전역변수로 선언된다.
                whoami = "나는 누구일까요?";

                showWho();
            }
            
            function showWho(){
                console.log(whoami);
            }

        </script>
        
        <hr>

        <h3>자료형</h3>

        <p>
            자바 스크립트에서는 자료형 별로 변수의 타입(int, String ...)을 <br>
            지정하지 않는다. 자바 스크립트는 처음 변수를 선언할 때, 단순히 <br>
            '그 변수의 이름을 쓰겠다'라고만 인식 시키고, 실체 그 값이 들어갈 때
            자료형이 정해지며 변수가 만들어 진다. 따라서 JS의 자료형은 <br>
            변수 안에 리터럴(값)이 들어갈 때 해당 값을 보고 결정된다.
        </p>

        <button type="button" onclick="typeTest();">자료형 테스트</button>

        <div id="area1"></div>

        <script>
            function typeTest(){
                // 동적 바인딩 : 변수를 그때 끄때(한줄씩) 읽어오면서 선언한다.
                var name = "김현진";
                var age = 28;
                var check = false;
                var hobby = ['게임','자바','Tv보기']; // js 에서는 배열이 [] 이다.
                var book = {
                    title : "이것이자바다.", // key : 값 으로 이루어짐;
                    author : "미상",
                    price : 25000,
                    review : "자바가 쉬워졌어요..."
                }; // js 에서는 {}가 객체가 된다. JSON 형식의 Map 객체
               
                /*
                var testFn = function(num1, num2){
                    var sum = num1 + num2;
                    return sum;
                };
                */

                // 함수 축약형
                // () => { . . .}
                var testFn = (num1,num2) => { var sum = num1 + num2; alert(sum)};

                // 변수화한 함수 사용하기
                console.log("testFn : " + testFn(28, 10));
                // return 값이 없어서 undefined 이 되어 실행전용이 된다.

                var divEl = document.getElementById('area1');

                divEl.innerHTML += name + "<br>";
                divEl.innerHTML += age + "<br>";
                divEl.innerHTML += check +"<br>";
                divEl.innerHTML += hobby +"<br>";
                divEl.innerHTML += book +"<br>";
                divEl.innerHTML += testFn +"<br>";

                alert("name : " + typeof(name) + "\n" +"age : " + typeof(age) + "\n"
                +"check : " + typeof(check) +"\n" + "hobby : " + typeof(hobby) +"\n" 
                +"book : " + typeof(book)+"\n"
                +"testFn : " + typeof(testFn));
            }
        </script>
        <br><br>
        <a href="../index.html">홈으로</a>
    </body>
</html>