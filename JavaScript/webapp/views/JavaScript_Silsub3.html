<html>
<head>
<meta charset="utf-8">
<title>정규식 실습</title>
<style>
    .chk{
        color:#0E7B17;
        font-weight: 700;
    }
    .result {
         width:400px;
         height:auto;
         background-color:lightcyan; 
         padding:20px; 
         text-align: center; 
         font-size:20px;
    }
    #end{
        text-align: center;
    }
    #end img{
        vertical-align: middle;
        vertical-align: -webkit-baseline-middle;
        width:100px;
        height:auto;
    }
</style>
</head>
<body>
        <h1>두 수의 합 확인하기</h1>
        
        <input type="button" value="결과보기" onclick="execute();" />
        <input type="text" id="num1" size="5"/> +
        <input type="text" id="num2" size="5"/> =
        <span id="result"></span> <br><br>
        
        <hr>
       
        <h1>회원가입 유효성 체크</h1>
        <!-- method="post" -->
        <form method="post" onsubmit="return validate();" style="background-color: lightgoldenrodyellow;">       <!-- 제출시 행동 -->
               <label for="userid">* 유저아이디</label>
               <input type="text" name="userid" id="userid" /><br>
               <label for="pass">* 비밀번호</label>
               <input type="password" name="pass" id="pass" /><br>
               <label for="pass1">* 비밀번호 확인</label>
               <input type="password" name="pass1" id="pass1" /><br>
               <label for="name">* 이름</label>
               <input type="text" name="name" id="name" /><br>
               <label for="email">* 이메일</label>
               <input type="text" name="email" id="email" /><br>
               <br>
               <label for="tel1">전화번호</label>
               <input type="text" name="tel1" id="tel1" maxlength="3" size="3"/> -
               <input type="text" name="tel2" id="tel2" maxlength="4" size="4"/> -
               <input type="text" name="tel3" id="tel3" maxlength="4" size="4"/>
               <br><br><br>
               <label for="job">직업</label>
               <select name="job" id="job">
                       <option>개발자</option>
                       <option>프로그래머</option>
                       <option>자영업자</option>
               </select><br>
               <label for="gender">성별</label>
               <input type="radio" name="gender" value="m" /> 남
               <input type="radio" name="gender" value="f" /> 여<br>
               <label for="hobby">취미</label>
               <input type="checkbox" name="hobby" value="reading" /> 독서
               <input type="checkbox" name="hobby" value="drama" /> 드라마보기
               <input type="checkbox" name="hobby" value="soccer" /> 축구<br>
               <input type="checkbox" name="hobby" value="movie" /> 영화보기
               <input type="checkbox" name="hobby" value="basket" /> 드라마보기
               <input type="checkbox" name="hobby" value="game" /> 게임<br>
               <input type="reset" value="리셋" />
               <input type="submit" value="완료" />
       
        </form>
        <hr>
        
        <h1>특정한 형식의 파일 찾기</h1>
        <p style="border:1px solid blue; background-color: #1A2D0F; color:snow; padding:10px;">
            일반적으로 서버에 파일을 저장할 때 우리는 파일의 확장자를 특정 형식에 맞게 작성합니다.<br>
            Windows 운영체제를 사용하는 경우 이러한 확장자가 기본으로 숨겨지지만<br>
            우리가 앞으로 접할지도 모르는 일반적인 서버 환경의 pc에서는 확장자가 표시됩니다.<br>
            이 중 이미지 파일의 확장자는 (.jpg / .png / .gif)로 정의됩니다.<br><br>
            다음은 특정 확장자를 가지는 파일들의 목록입니다.<br>
            이 중에서 이미지 파일만 찾기 위한 정규식을 사용해 보세요.
        </p>
        <table style="background-color: lightgoldenrodyellow; border:1px solid black; padding:10px;">
            <thead>
                <tr>
                    <th style="width:140px;">파일 명</th>
                    <th>확장자</th>
                </tr>
            </thead>
            <tbody>
               <tr class="chk">
                    <td>umzzal.gif</td>
                    <td>이미지 파일</td>
                </tr>
                <tr>
                    <td>.git</td>
                    <td>시스템 숨김 파일</td>
                </tr>
                <tr>
                    <td>.gitignore</td>
                    <td>시스템 숨김 파일</td>
                </tr>
                <tr>
                    <td>homework.doc</td>
                    <td>문서 파일</td>
                </tr>
                <tr>
                    <td>index.html</td>
                    <td>HTML 문서</td>
                </tr>
                <tr class="chk">
                    <td>img0419.jpg</td>
                    <td>이미지 파일</td>
                </tr>
                <tr>
                    <td>img0419.jpg.tmp</td>
                    <td>임시 파일</td>
                </tr>
                <tr class="chk">
                    <td>icon.png</td>
                    <td>이미지 파일</td>
                </tr>
                <tr>
                    <td>img0419.jpg1</td>
                    <td>속임수 파일</td>
                </tr>
            </tbody>
        </table>
        <br>
        <label>정규식 입력하기 : </label>/ <input type="text" id="regTest" size="7"> /gim&nbsp;&nbsp; &nbsp;&nbsp;
        <button onclick="regTestFn();">결과 보기</button>
        <div class="result" id="regResult">결과 확인 창</div>

        <hr>

        <h1>JavaScript & CSS 분리하기</h1>
        <p>
            현재 작성되어 있는 script와 css를 별도의 silsub3.js와 silsub3.css파일로 만들어<br>
            각각 js, css 폴더에 분리하여 넣은 뒤 해당 소스를 이 문서에 첨부하세요.
        </p>
        <br>
        <br>
        <br>
        <br>
        <br>

        <h1 id="end"><img src="../resources/images/angel.png" style="transform:rotateY(180deg);">수고하셨습니다.<img src="../resources/images/angel.png"></h1>

        <script type="text/javascript">
            function execute() {
                    /// num1과 num2의 결과를 합쳐서 result에 보여주기
                    var num1 = document.getElementById('num1');
                    var num2 = document.getElementById('num2');
                    var result = Number(num1.value) + Number(num2.value);

	// 계산 결과가 숫자이면 계산 결과를 출력하고,
	// 계산 결과가 숫자가 아니면 "숫자가 아닙니다."라고 출력하세요.

                    // 1. 문자 --> 숫자를 사용한 방법
                    // 문자-> 숫자 : parseInt(), Number() (실수 : parseFloat())
                    
                    // 2. 정규식을 사용한 방법
                   
                    // 정규식 이용한 숫자 검사
                    // validation : 유효성 체크
                    /*
                    정규식 작성법
                    1. var re = /정규식/;
                    2. var re = new RegExp("정규식");
                    */

                    // 정규식으로 풀어보기 

                    // let 은 es6 부터 권장하는 내용 으로 var 과 같이 변수를 선언할 때 사용

                    // 결과를 담을 a1 변수를 span id=result 로 부터 생성
                    let a1 = document.getElementById('result');

                    // 정규식 만들기
                    let reg = /^[0-9]*$/; // ^[0-9] : ^시작 을 0~9 중에 해야 하며, * : 0 혹은 여러개 (글자수 상관없이) , $: 문장의 끝 (패턴 끝)
                    
                    // 값 확인용
                    console.log(num1.value)
                    console.log(reg.test(num1.value));

                    // 조건 문으로 숫자가 아닐경우 alert
                    // 숫자일 경우 합
                    // 정규식.test(비교할 내용) 반환되는 값은 일치하면 true 다르면 false

                    if (reg.test(num1.value) == false || reg.test(num2.value) == false ) alert("숫자가 아닙니다.");
                    else a1.innerHTML = result;


            }
                
            function validate() {
                    // hint : 현재 구현되어 있는 chk() 함수를 사용해 보세요.
                    var id = document.getElementById('userid');
                    var pass = document.getElementById('pass');
                    var pass1 = document.getElementById('pass1');
                    var name = document.getElementById('name');
                    var email = document.getElementById('email');
                    var tel1 = document.getElementById('tel1');
                    var tel2 = document.getElementById('tel2');
                    var tel3 = document.getElementById('tel3');
             
                    // 이메일 검사
                    // 4글자 이상(\w = [a-zA-Z0-9_], [\w-\.]) @가 나오고
                    // 1글자 이상(주소). 글자 가 1~3번 반복됨
                   
                    // 아이디 검사
                    // 첫 글자는 반드시 영문 소문자, 4~12자로 이루어지고, 숫자가
                    // 하나 이상 포함되어야 한다. 영문소문자와 숫자로만 이루어져야한다.
                    // \d : [0-9]와 같다.       {n,m} : n에서 m까지 글자수
                    
                    // 비밀번호 확인 검사
                   
                    // 이름 검사
                    // 2글자 이상, 한글만
                    // 통과하지 못하면 한글로 2글자 이상을 넣으세요~ alert 출력!
            
                    // 전화번호 검사
             
                    // 전화번호 앞자리는 2~3자리 숫자, 두번째 자리는 3~4자리 숫자
                    // 세번째 자리는 4자리 숫자

                    // -------------------------------------------------------------
                    
                    // 만들어진 chk 함수 사용하여 해결
                    // chk(re, e, msg) => re : 정규식 , e: 값 , msg : 오류시 출력할 메시지 

                    // 이해 
                    // 1. chk() 함수에서는 return으로 true 혹은 false 값을 준다. 
                    // 2. chk() 함수로 받은 값을 확인하여 다시한번 return 으로 true 나 false값을 주어야
                    //    submit시 실행되는 validate() 가 해당 값(true or false)을 받아 제출하거나 제출하지 않는다.

                    // 아이디 
                    // 정규식 /^[a-z][a-z0-9_-]{3,11}$/
                    let idChk =  /^[a-z][a-z0-9_-]{3,11}$/;
                    if(!chk(idChk,id,"잘못 입력하셨습니다.")){
                        return false;
                    };
                    
                    // 이름
                    // 정규식 /^[가-힝]{2,4}$/
                    let nameChk = /^[가-힝]{2,4}$/;
                    if(!chk(nameChk, name, "한글로 2글자 이상을 넣으세요")){
                        return false;
                    }

                    // 비밀번호 체크 
                    // 정규식 /^[A-Za-z0-9_-]{6,18}$/
                    let pwdChk = /^[A-Za-z0-9]{6,18}$/;
                    if(!chk(pwdChk, pass, "비밀번호 조건이 잘 못 되었습니다.")){
                        return false;
                    }
                    // 비밀번호 와 비밀번호 확인이 일치 하는지 확인
                    if(pass.value != pass1.value){
                        alert("비밀번호가 일치하지 않습니다. 다시 확인해 주세요.");
                        pass.value = "";
                        pass1.value = "";
                        pass.focus();
                        return false;
                    }
                    
                    // 전화번호 검사
                    let phoneChk1 = /\d{3}$/;
                    let phoneChk2 = /\d{3,4}$/;
                    let phoneChk3 = /\d{4}$/;
                    if(!chk(phoneChk1, tel1, "전화번호가 잘못 되었습니다.") 
                    || !chk(phoneChk2, tel2, "전화번호가 잘못 되었습니다.") 
                    || !chk(phoneChk3, tel3, "전화번호가 잘못 되었습니다.")){
                        return false;
                    }

                    // 이메일 검사
                    // 정규식은 인터넷 참조하여 수정
                    let emailChk = /^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,6}$/;
                    if(!chk(emailChk,email,"이메일 형식이 틀렸습니다.")){
                        return false;
                    }




                    // 정규식과 비교하고 true 나 false 로 반환 해주는 내부 함수
                    // 매개변수로는 re: 정규식 , e : 비교값(여기서는 입력값) , msg: 비교하여 일치하지 않을 경우 출력할 문자열
                    function chk(re, e, msg) {
                           // 정규식과 test 함수로 비교하여 true 일 경우 리턴 true 로 onsubmit 실행
                           if (re.test(e.value)) {
                                   return true;
                           }

                           // false 일 경우 
                           // 
                           alert(msg); // msg 를 alert로 출력
                           e.value = ""; // e.value 값읋 비움
                           e.focus(); // .focus() 해당 칸으로 이동시킨다.
                           return false; 
                          
                    }
            }


            function regTestFn() {
                // 현재 이 메소드는 완성되어 있습니다.
                // 필요한 정규표현식을 화면에서 적어 확인해 보세요.
                var regTest = new RegExp(document.getElementById('regTest').value,'gim');
                var fileArray = ["umzzal.gif", ".git", ".gitignore", "homework.doc",
                                "index.html", "img0419.jpg", "img0419.jpg.tmp", "icon.png", "img0419.jpg1"];
                var regResult = document.getElementById('regResult');
                regResult.innerHTML = "";
                
                for(var i in fileArray){
                    var file = fileArray[i];
                    if(regTest.test(file)) regResult.innerHTML += file+"<br>";
                }
            }
            </script>

            <br><br>
            <a href="../index.html">홈으로</a>
</body>
</html>